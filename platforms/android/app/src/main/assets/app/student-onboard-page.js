var frameModule = require("ui/frame");
var view = require("ui/core/view");
var observable = require("data/observable");
var buttonModule = require("ui/button");
const Button = require("tns-core-modules/ui/button/").Button;
var pageData = new observable.Observable();
var selectedProcess, selectedRole;
var pageObject;
const ListPicker = require("tns-core-modules/ui/list-picker").ListPicker;
const fromObject = require("tns-core-modules/data/observable").fromObject;
var pageVM;
const Label = require("tns-core-modules/ui/label/").Label;
var subNavTitle = "YourPayInformation";

exports.onNavigatingTo = function(args){
    const page = args.object;
    pageObject = page;
    page.bindingContext = pageData;
    loadMissionContent();
}
exports.pageLoaded = function(args) {
    
};
exports.navToggle = function(args){
    subNavTitle = args.object.value;
    pageData.set(subNavTitle, !pageData.get(subNavTitle));
};

exports.goToHome = function(){
    var topmost = frameModule.topmost();
    topmost.navigate("main-page");
};
exports.footer3 = function(){
    var topmost = frameModule.topmost();
    topmost.navigate("profile-page");
    
}
exports.footer4 = function(){
    console.log("Go To Feedback");
    var topmost = frameModule.topmost();
    //topmost.navigate("feedback-page");
    var pageDetails = String(topmost.currentPage).split("///");
    const TODAY = new Date();
    var navigationOptions={
        moduleName:'feedback-page',
        context:{Language: "ENG",
                PageName: pageDetails[1].split("/")[1].split(".")[0],
                DateTime: TODAY
                }
            }
    topmost.navigate(navigationOptions); 
}
exports.footer5 = function(){
    var topmost = frameModule.topmost();
    topmost.navigate("POC-page");
}
var loadMissionContent = function(){
    var dbReturn = getFromDataBase();
    for(i=0; i<dbReturn.length; i++){
        var contentID = dbReturn[i].mission + "Content";
        var missionContentBox = pageObject.getViewById(contentID);
        missionContentBox.removeChildren();
        var descriptionText = dbReturn[i].description;
        var descriptionItemSplit;
        var descriptionComponents = descriptionText.split("<*");
        for (z=0; z<descriptionComponents.length; z++){
            descriptionItemSplit = descriptionComponents[z].split("*>");
            var descLabel = new Label();
            //LabelArray.push(new Label());
            descLabel.className = descriptionItemSplit[0];
            descLabel.text = descriptionItemSplit[1];
            missionContentBox.addChild(descLabel);
        }

    }
}

var getFromDataBase = function(){
    var databaseReturn = [];
    var databaseLine = {};
    databaseLine = {mission:"mission1", description:"<*Article_H2*>Mission #1: Pre-Onboarding<*Article_Body*>We want to help you make a positive first impression! Before you start your student employment at DND, please ensure that you take the time to review the information below so that you are prepared for your first day of work.<*Article_H3*>Read about who we are<*Article_List*>Go to the About Us page to read about the Defence Team’s vision and organizational priorities.<*Article_H3*>Familiarize yourself with the organizational structure at DND, CAF Ranks and Insignia<*Article_List*>Go to the About Organizational Structure page to read about DND’s high-level reporting structure.<*Article_List*>Go to the Rank Appointment Insignia page to read about the ranks within the CAF.<*Article_H3*>Familiarize yourself with the Terms and Conditions of Employment for Students<*Article_List*>Students are paid in accordance with the Terms and Conditions of Employment for Students (Student Rates of Pay).<*Article_H3*>Read and complete all forms provided by your manager/ supervisor and/or Human Resources (HR)<*Article_List*>Letter of Offer<*Article_List*>Direct Deposit Form<*Article_List*>Tax Forms (Federal and Provincial)<*Article_List*>Employee Questionnaire Form<*Article_List*>Solemn Oath or Affirmation Form (new hires external to the public service only)<*Article_List*>Political Activities and You! Brochure<*Article_List*>DND and CF Code of Values and Ethics Brochure<*Article_List*>DND/CF Self-Identification Form<*Article_List*>New Student Passport: Pre-onboarding Checklist<*Article_H3*>Prepare for your first day of work<*Article_List*>If your manager/supervisor hasn’t contacted you, contact them to confirm your start date, expected time of arrival, work location, transportation options/parking, what to do when you arrive, etc.<*Article_List*>Be prepared to talk to your manager/supervisor about your role and expectations, work hours/breaks, any workplace accommodations that are needed, employment equity initiatives, the importance of diversity and inclusion in the workplace and remuneration. Come prepared with any questions you might have, as your manager/supervisor will be setting some time aside to review your Letter of Offer and other HR documents with you.<*Article_List*>Ask about the dress code, language of work (including the designation of your work unit) and any other cultural expectations of the workplace.<*Article_List*>Prepare to bring with you<*Article_List*>A valid piece of government-issued photo ID (i.e. Driver’s License, Health Card, etc.) in order to receive a temporary building pass.<*Article_List*>Your signed Letter of Offer and any other completed forms as instructed by HR, if not already sent.<*Article_List*>Any other information requested by your manager/supervisor."};
    databaseReturn.push(databaseLine);
    databaseLine = {mission:"mission2a", description:"<*Article_H2*>Mission #2A: Onboarding<*Article_Body*>The first day will mark the beginning of a significant period of adjustment for you. You will likely be nervous, which is not surprising given that you will be in an unfamiliar environment with people you do not yet know. Recognize that starting a new job is stressful and overwhelming for everyone and that you will adjust. Remember that you are joining a diverse group of people in the Defence Team; we encourage you to reach out to them during your integration process should you need any help!<*Article_Body*>To complete Mission 2A, please note that you can move between steps depending on the information you find. In addition, your work location may affect your onboarding experience as some of the tasks in this guide may not apply to you.<*Article_H3*>When you arrive<*Article_List*>Have your valid government-issued Picture ID, Letter of Offer and any other forms as instructed by your manager/supervisor.<*Article_List*>Be on time, and bring your smile and positive attitude. J<*Article_List*>Meet your manager/supervisor or co-worker at the agreed upon location so that they can sign you in and arrange for a temporary visitor’s pass. Don’t forget to pick up your Picture ID card when you leave.<*Article_H3*>Meet with your manager/supervisor<*Article_List*>Review, return and ask any questions pertaining to your Letter of Offer, the Direct Deposit and Tax Forms (Federal and Provincial), the Employee Questionnaire Form, the Political Activities and You! Brochure, the DND and CF Code of Values and Ethics and DND/CF Self-Identification Form.<*Article_List*>Reconfirm your working hours, duties, breaks, leave reporting, language of work and the language designation of your unit.<*Article_List*>Sign the Solemn Oath or Affirmation (new hires external to the public service only).<*Article_List*>Review the list of training for students. Be sure to set some time aside to complete this training.<*Article_H3*>Get your building pass<*Article_List*>Meet with your organization’s Unit Security Supervisor (USS) in order to have the paperwork issued to get your building pass. Please note that sometimes it can take a few days before you get your building pass. Please remember that you must be escorted at all times when wearing a “visitor” pass.<*Article_List*>Once you receive your permanent building pass from Pass Control, please note that it must be worn and visible at all times.<*Article_H3*>Meet your colleagues<*Article_List*>Introduce yourself to your colleagues.<*Article_List*>Meet with your peer partner (if assigned).<*Article_H3*>Login to your computer account<*Article_List*>Confirm that your computer account has been set-up and that you are connected to a printer. Someone from your team will be able to help you with this.<*Article_List*>Should you have any issues, ask your colleagues how to contact your local IT Help Desk. Don’t forget to record this information in Annex A (New Student Information Sheet).<*Article_H3*>Set up your workspace<*Article_List*>Ask for any cabinet keys and/or safe combinations.<*Article_List*>Ask for relevant reference materials (i.e. phone list, organizational chart with titles, staff lists, other contact lists, voicemail and phone instructions, job description, examples of a signature block, etc.).<*Article_List*>Ask for access to the shared drive(s), SharePoint sites, Human Resources Management System (HRMS), GCDOCS and/or any other relevant system software or application.<*Article_List*>Ask for any essential office supplies.<*Article_H3*>Setup your voicemail message<*Article_List*>Set up your voicemail (if required) by referring to the bilingual voicemail messages template.<*Article_H3*>Set up your signature block in Outlook<*Article_List*>The Standard on Email Management specifies the precise appearance of your signature block and requires that it be in both official languages, regardless of where you work in Canada. Ask your manager/supervisor for the information that you should be including in your signature block.<*Article_List*>Please refer to the Standard on Email Management, Appendix E: Email Signature Blocks and/or ask your manager/supervisor for examples on the correct way to create your email signature block.<*Article_H3*>Set up your out of office message<*Article_List*>Set up and save your out of office message for when you are away from the office. The following bilingual out of office messages template has been developed for your use.<*Article_H3*>Familiarize yourself with your work environment<*Article_List*>Get a tour of your workplace from your manager/supervisor and/or a colleague and familiarize yourself with the building. Things to locate could include:<*Article_List*>-Main entrances, exits, elevators and stairs<*Article_List*>-Your manager, supervisor and peer partner’s location (if assigned)<*Article_List*>-Washrooms and drinking fountains<*Article_List*>-Kitchen and cafeteria locations<*Article_List*>-Fax machines, photocopiers and printers<*Article_List*>-Conference rooms<*Article_List*>-Mail and supply room/areas<*Article_List*>-Location of Automated External Defibrillators<*Article_List*>-Gym<*Article_List*>-Bank machines and CANEX<*Article_List*>-Parking, transit and shuttle locations<*Article_List*>-Ask about the first aid & building evacuation procedures (i.e., building exits, fire drill routes, first aid kit, etc.).<*Article_List*>-Ask about after-hours procedures (if applicable).<*Article_List*>-Ask if there are any allergies/sensitivities within your unit that you should be aware of.<*Article_H3*>Familiarize yourself with the structure of your unit within DND<*Article_List*>Go to the About Organizations page to read about the Defence Team and its organizations.<*Article_List*>Ask your colleagues or peer partner what an L1 is, where your unit fits within the DND’s structure (i.e. name of your Level 1 organization, Level 2 and/or Level 3) and read about your L1 organization."};
    databaseReturn.push(databaseLine);
    databaseLine = {mission:"mission2b", description:"<*Article_H2*>Mission #2B: Onboarding<*Article_Body*>To complete Mission 2B, please note that you can move between steps depending on the information you find. In addition, your work location may affect your onboarding experience as some of the tasks in this guide may not apply to you.<*Article_H3*>Meet with your manager/supervisor<*Article_List*>Discuss your work objectives, learning plan and how your work will be evaluated during your term.<*Article_List*>Confirm that your workstation is properly setup and your required accommodations have been met (if applicable).<*Article_List*>Confirm that you have all of the necessary information, resources, office supplies and reference materials (phone list, organizational chart, contact lists, etc.) that are needed for your job.<*Article_H3*>Read the Student’s Corner material<*Article_List*>Go to the DND Student’s Corner page and read about topics such as the Onboarding and Compensation Tools and Resources, Social Activities and Special Events, Bulletin Board, Student Spotlight, etc.<*Article_H3*>Familiarize yourself with important policies and programs within DND<*Article_List*>Go to the Defence Policy page to learn more about Canada’s defence policy – Strong, Secure, Engaged.<*Article_List*>Go to the Official Languages page to learn more about the policies, tools and resources that promote the use of both official languages at DND.<*Article_List*>Go to the Harassment Prevention page to learn more about harassment prevention and resolution at DND.<*Article_List*>Go to the Diversity and Employment Equity page to learn more about how DND strives to be more inclusive and representative of the Canadian population it serves.<*Article_List*>Go to the Mental Health and Well-being page to learn more about the tools, resources and services that DND provides to assist employees in building a safe, supportive and respectful work environment.<*Article_List*>Go to DAOD 6002-2 to read about the acceptable use of the internet, defence intranet, computers and other information technology systems at DND.<*Article_H3*>Set some time aside to meet your colleagues<*Article_List*>Set up a meeting with your fellow colleagues to better understand the key files and priorities that your organization is working on.<*Article_List*>If needed, ask if they can help you complete Annex A.<*Article_H3*>Meet with your peer partner (if assigned)<*Article_List*>Meet with your peer partner (if assigned) to discuss your onboarding and work experiences to date.<*Article_H3*>Setup personal training accounts<*Article_List*>Once you have a valid DND email address, create the following accounts in order to complete the required training for students:<*Article_List*>A GCconnex account.<*Article_List*>A Defence Learning Network (DLN) account to access DND training.<*Article_List*>A GCcampus account at the Canada School of Public Service (CSPS).<*Article_List*>A GCDOCS account. Your DLN or CSPS GCDocs training must be completed prior to your manager/supervisor requesting a GCDocs account for you from your organization’s Information Management Office (IMO) or Information Administrator (IA).<*Article_H3*>Self-register and complete the list of training for students<*Article_List*>Start registering for all of the identified courses on the list of training for students.<*Article_List*>Update your manager/supervisor, as well as your learning plan on any training that you have registered for and/or completed.<*Article_List*>Ask your manager/supervisor if there is any additional training that is required for your job. If so, register for this training and update your manager/supervisor, as well as your learning plan.<*Article_H3*>Setup your favourites in Microsoft Explorer<*Article_List*>Include the following websites: Compensation Web Application (CWA), GCcampus, Defence Learning Network (DLN), DND Student’s Corner, Defence Youth Network, etc.<*Article_List*>Review the pre-populated favourites in your browser as it often deals with information that is specific to DND and/or your organization."};
    databaseReturn.push(databaseLine);
    databaseLine = {mission:"mission3", description:"<*Article_H2*>Mission #3: Integration and Networking<*Article_Body*>After one month, you will have settled into your new job but are likely still adjusting to the new routine and work environment. Although you will be starting to understand the basics of the position and the workplace, you will still be getting to know people and the culture of the organization.<*Article_Body*>To complete Mission 3, please note that you can move between steps depending on the information you find. In addition, your work location may affect your onboarding experience as some of the tasks in this guide may not apply to you.<*Article_H3*>Meet with your manager/supervisor<*Article_List*>Ask your manager/supervisor for preliminary feedback on your performance. If you feel that you have difficulty doing some of the tasks or may need workplace accommodations/arrangements, this would be a good time to discuss the situation with your manager/supervisor.<*Article_List*>Update your manager/supervisor on any completed training that you have completed from the list of training for students.<*Article_List*>Report any pay-related problems you may be experiencing to your manager/supervisor as they may be able to help you determine the reason for your pay issue (e.g. incorrect work schedule, missing documentation, etc. - refer to the Compensation Tools and Resources for assistance). If your manager/supervisor is unable to resolve your pay issue(s), please follow the steps below:<*Article_List*>-Raise your case/issue to the dedicated PSPC Pay Centre Student Team positional mailbox: TPSGC.mirrenumetudiante-mirstudentcomp.PWGSC@tpsgc-pwgsc.gc.ca. The Pay Centre has committed to responding to your enquiry within 5 business days.<*Article_List*>-If your case has not been addressed within 21 days, please escalate your case to DND’s Compensation Team: CompensationServiceRemuneration@forces.gc.ca. To help expedite the resolution, please identify yourself in the subject line of the email as follows: Student Pay Issues: PRI, Name. In your email, please explain your situation as clearly as possible so that the DND Compensation Team can research and follow-up on your case.<*Article_List*>-Follow-up on any questions you have about HR or any of the programs and/or policies that you read about, your manager/supervisor will be able to connect you with the appropriate contact. If needed, record any important information in Annex A.<*Article_List*>Discuss your onboarding and work experiences to date. Should you have any feedback, send an email to the Student Onboarding and Offboarding Team.<*Article_H3*>Register for your “My Key” and Phoenix Self-Service<*Article_List*>* Please complete the HR-to-Pay Stabilization Training for Employees before registering for a “My Key.<*Article_List*>After you get your first pay, go to the Compensation Web Application (CWA) page to register for your “My Key”. Your manager/supervisor (or peer partner) will be able to help you register.<*Article_List*>Ensure that you understand how and when this is to be used (i.e., CWA).<*Article_List*>Once you have accessed the CWA, identify your Section 34 in Phoenix.<*Article_H3*>Meet with your peer partner (if assigned)<*Article_List*>· Meet with your peer partner (if assigned) to discuss your experiences to date.<*Article_H3*>Participate in student activities<*Article_List*>Go to the DND Student’s Corner to see a list of the various activities that are being organized in your region.<*Article_List*>Alternatively, you could visit the list of suggested student activities and organize a lunch-time event for you and your fellow students.<*Article_H3*>Network with other students<*Article_List*>Join the various student networks like the Defence Youth Network and the Federal Youth Network.<*Article_List*>Connect with other students over GCconnex."};
    databaseReturn.push(databaseLine);
    databaseLine = {mission:"mission4", description:"<*Article_H3*>Mission #4: Obtain Your Student Certificate<*Article_Body*>You are now a more knowledgeable member of the DND team - congratulations! Since you have completed all of your onboarding missions, you should now have a more in-depth understanding of your job, your Level 1 organization and DND. To show that you have successfully completed the student onboarding program, it is now time to request your DND Student Certificate.<*Article_Body*>To complete Mission 4, please note that you can move between steps depending on the information you find. In addition, your work location may affect your onboarding experience as some of the tasks in this guide may not apply to you.<*Article_H3*>Meet with your manager/supervisor<*Article_List*>Ensure you have completed all mandatory training and follow-up on suggested learning activities.<*Article_List*>Follow-up on any remaining questions that you might have. Your manager/supervisor will be able to connect you with the appropriate contact, if needed.<*Article_List*>Reconfirm that you have completed all of the tasks and missions outlined in your DND Student Passport.<*Article_List*>Discuss your overall experiences to date such as what went well and what could be changed.<*Article_H3*>Send the Student Onboarding Team an email to request your DND Student Certificate<*Article_List*>In your email, please include the name of your manager/supervisor as we will be confirming that you have completed and checked off all of the missions in this guide."};
    databaseReturn.push(databaseLine);
    databaseLine = {mission:"mission5", description:"<*Article_H2*>Final Mission: Off-boarding<*Article_Body*>This checklist provides the tasks that need to be completed in order to officially exit DND. This checklist should be completed by you and your manager/supervisor.<*Article_H3*>Update your profile on the DND Student/Graduate Information Database<*Article_List*> Prior to your departure, the Student Hiring Team will contact you to add or update your profile on the DND Student/Graduate Information Database. If you have not received the invitation, please send an email to the National Student Hiring Team.<*Article_H3*>Thank your manager/supervisor and team<*Article_List*>Send an email to your manager/supervisor using the Thank You Letter Template for Employment.<*Article_List*>Send an email to your team using the Farewell Letter Template to Team.<*Article_H3*>Meet with your manager/supervisor<*Article_List*>Provide updates on any remaining files, documents or projects that you were working on. If there is any remaining work, determine who it should be transferred to.<*Article_List*>Follow-up on any remaining questions you might have about HR and/or compensation. Your manager/supervisor will be able to provide you with the appropriate contact, as needed.<*Article_List*>Provide feedback on your work experience to help improve the future experiences of students within your organization.<*Article_H3*>Complete and return the DND out-clearance form<*Article_List*>With your manager/supervisor, complete your organization’s Out-Clearance Form.<*Article_List*>Once completed, return it to your organization’s USS for processing.<*Article_H3*>Clean up your workspace<*Article_List*>Update your voicemail to a general message and identify your voicemail password/pin on the outside of your phone.<*Article_List*>Remove all personal items from your workspace.<*Article_H3*>Return your building pass and other DND materials/resources<*Article_List*>Return your building pass along with any other DND materials and/or resources (i.e., laptop, phone, keys, permits, USB keys, combination locks, uniform, tools, etc.) to your manager/supervisor or to the identified individual and/or team in your organization’s Out-Clearance Form.<*Article_H3*>Complete the student exit questionnaire – Summer Students Only!<*Article_List*>The Student Onboarding Team will be sending you a questionnaire. If you don’t receive it a week before your departure, please send an email to the Student Onboarding and Offboarding Team."};
    databaseReturn.push(databaseLine);
    return databaseReturn;
}

